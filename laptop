#!/bin/sh

. link_dotfiles

if command -v brew >/dev/null 2>&1; then
  echo ""
  echo "Updating Homebrew..."
  brew update
else
  echo ""
  echo "Installing Homebrew..."
  /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
fi

echo ""

brew bundle --no-upgrade
brew bundle --file=Caskfile

./macos
./projects
./ruby
./node

terminal_theme=$(defaults read ~/Library/Preferences/com.apple.Terminal.plist "Default Window Settings" 2>/dev/null)

if [ "$terminal_theme" != "Ocean Dark" ]; then
  echo ""
  echo "Install Terminal theme."
  echo "Location: laptop/themes/Ocean Dark.terminal"
fi

unset terminal_theme

echo ""
echo "Done."
